package pack;

import java.util.Arrays;
import java.util.Scanner;

public class AA6_14 {
	
	static int menu() {
		int opcion = 0;
		do {
			Scanner sc = new Scanner(System.in);
			System.out.println("Selecciones una opción");
			System.out.println();
			System.out.println("1. Añadir nuevo contacto (nombre y teléfono.");
			System.out.println("2. Buscar el teléfono de un contacto a partir de su nombre.");
			System.out.println("3. Mostrar la información de todos los contactos ordenador alfabéticamente mediante el nombre.");
			System.out.println("4. Salir");
			opcion = sc.nextInt();			
		} while (opcion < 1 || opcion > 4);
		return opcion;
	}
	
	static String[] añadir(String[] diccionario) {
		Scanner sc = new Scanner(System.in);
		System.out.println("Introduce un nombre: ");
		String nombre = sc.nextLine();
		System.out.println("Introduce un telefono: ");
		String tlfn = sc.nextLine();
		String nomTlfn = nombre + ":" + tlfn;
		String[] nuevoDiccionario = Arrays.copyOf(diccionario, (diccionario.length + 1));
		nuevoDiccionario[nuevoDiccionario.length - 1] = nomTlfn;
		return nuevoDiccionario;
	}
	
	static void buscar(String[] diccionario) {
		Scanner sc = new Scanner(System.in);
		String end = "";
		boolean salir = false;
		System.out.println("Introduce un nombre: ");
		String nombre = sc.nextLine();
		
		for (int i = 0; i < diccionario.length && !salir; i++) {
			// Primero cogemos los valores que tenga el Array de string y comprobamos 1 por 1 ej. Ale:123456789
			String actual = diccionario[i];
			// Obtenemos la posición de :
			int indice = actual.indexOf(':');
			// Cogemos la parte de la derecha de los :
			end = actual.substring(indice + 1);
			// Comprobamos si el fragmento que hemos obje
			if (nombre.equals(diccionario[i])) {
				salir = true;
			}
		}
		System.out.println(end);
	}

	public static void main(String[] args) {
		/*
		 * Diseña una aplicación que se comporte como una pequeña agenda. Mediante un menú
		 * el usuario podrá elegir entre:
		 * a) Añadir un nuevo contacto (nombre y teléfono).
		 * b) Buscar el teléfono de un contacto a partir de su nombre.
		 * c) Mostrar la información de todos los contactos ordenados alfabéticamente mediante el nombre.
		 * Pista: El nombre y el teléfono se pueden codificar como una única cadena con la forma <nombre:teléfono».
		 */
		
		Scanner sc = new Scanner(System.in);
		int opcion;
		String resultado;
		String diccionario[] = {};
		do {
			opcion = menu();
			switch(opcion) {
				case 1 -> {
					diccionario = añadir(diccionario);
					System.out.println();
				}
				case 2 -> {
					buscar(diccionario);
					System.out.println();
				}
				case 3 -> {
					System.out.println("Vista completa de los contactos: " + Arrays.toString(diccionario));
					System.out.println();
				}
			}
			
		} while(opcion != 4);
		
		System.out.println();
		System.out.println("Finalizó el programa");
			
			
	}

}
